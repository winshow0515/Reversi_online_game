# Reversi Online Game - é»‘ç™½æ£‹é€£ç·šéŠæˆ²

C++ å¯«çš„é»‘ç™½æ£‹ï¼ˆReversiï¼‰é€£ç·šå°æˆ°éŠæˆ²ã€‚

# ç›®éŒ„
* [å°ˆæ¡ˆçµæ§‹](#å°ˆæ¡ˆçµæ§‹)
* [Prerequisite](#prerequisite)
* [ç·¨è­¯æ–¹å¼](#ç·¨è­¯æ–¹å¼)
* [ä½¿ç”¨æ–¹å¼](#ä½¿ç”¨æ–¹å¼)
* [éŠæˆ²è¦å‰‡](#éŠæˆ²è¦å‰‡)
* [éŠæˆ²ç•«é¢](#éŠæˆ²ç•«é¢)
* [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)
* [ç¯„ä¾‹éŠæˆ²æµç¨‹](#ç¯„ä¾‹éŠæˆ²æµç¨‹)
* [æŠ€è¡“ç´°ç¯€](#æŠ€è¡“ç´°ç¯€)
* [å¿ƒå¾—](#å¿ƒå¾—)


## å°ˆæ¡ˆçµæ§‹
```
.
â”œâ”€â”€ game.hpp       # éŠæˆ²é‚è¼¯é¡åˆ¥
â”œâ”€â”€ server.cpp     # ä¼ºæœå™¨ç¨‹å¼
â”œâ”€â”€ client.cpp     # å®¢æˆ¶ç«¯ç¨‹å¼
â”œâ”€â”€ Makefile       # ç·¨è­¯è¨­å®š
â””â”€â”€ README.md      # èªªæ˜æ–‡ä»¶
```

## Prerequisite
- **ä½œæ¥­ç³»çµ±**: Linux/Unixï¼ˆå·²åœ¨ Raspberry Pi 4 æ¸¬è©¦é€šéï¼‰
- **ç·¨è­¯å™¨**: g++ï¼ˆæ”¯æ´ C++11ï¼‰
- **çµ‚ç«¯**: æ”¯æ´ ANSI é¡è‰²ç¢¼çš„çµ‚ç«¯ï¼ˆå¤§éƒ¨åˆ† Linux çµ‚ç«¯éƒ½æ”¯æ´ï¼‰
- **ç¶²è·¯**: TCP/IP é€£ç·šèƒ½åŠ›

## ç·¨è­¯æ–¹å¼
```bash
# ç·¨è­¯æ‰€æœ‰ç¨‹å¼
make
# æ¸…é™¤ç·¨è­¯æª”æ¡ˆ
make clean
```
ç·¨è­¯å¾Œæœƒç”¢ç”Ÿå…©å€‹åŸ·è¡Œæª”ï¼š`server` å’Œ `client`

### è¨­å®šåŸ·è¡Œæ¬Šé™ï¼ˆå¦‚æœéœ€è¦ï¼‰

```bash
chmod +x server client
```

## ä½¿ç”¨æ–¹å¼
#### 1. å•Ÿå‹•ä¼ºæœå™¨

åœ¨ä¼ºæœå™¨ç«¯åŸ·è¡Œï¼š

```bash
./server <ip> <port>

ç¯„ä¾‹ï¼š
./server 192.168.0.222 8888
```

#### 2. ç©å®¶é€£ç·š

åœ¨å®¢æˆ¶ç«¯åŸ·è¡Œï¼š

```bash
./client <server_ip> <server_port>

ç¯„ä¾‹ï¼š
./client 192.168.0.222 8888
```

é€£ç·šå¾Œæœƒè¦æ±‚è¼¸å…¥åå­—ï¼š
```
Connected to server 192.168.0.222:8888
Enter your name: Ariel
```
ç¬¬ä¸€å€‹ç©å®¶æœƒçœ‹åˆ°ï¼š
```
Waiting for another player...
```
ç•¶ç¬¬äºŒå€‹ç©å®¶é€£ç·šå¾Œï¼ŒéŠæˆ²è‡ªå‹•é–‹å§‹ï¼

## éŠæˆ²è¦å‰‡
1. é»‘ç™½æ£‹æ˜¯ä¸€å€‹ 8x8 çš„æ£‹ç›¤éŠæˆ²
2. åˆå§‹æ™‚æ£‹ç›¤ä¸­å¤®æœ‰ 4 é¡†æ£‹å­ï¼ˆ2 é»‘ 2 ç™½ï¼‰
   ```
   5 * * * X O * * *
   4 * * * O X * * *
   ```
3. X ä»£è¡¨é»‘æ£‹ï¼ŒO ä»£è¡¨ç™½æ£‹
4. ç©å®¶è¼ªæµä¸‹æ£‹ï¼Œæ¯æ¬¡ä¸‹æ£‹å¿…é ˆï¼š
   - åœ¨ç©ºæ ¼ä½ç½®ä¸‹æ£‹
   - è‡³å°‘è®“å°æ‰‹ä¸€é¡†æ£‹å­è¢«ä½ çš„æ£‹å­å¤¾åœ¨ä¸­é–“ï¼ˆå…«å€‹æ–¹å‘ä»»ä¸€ï¼‰
5. è¢«å¤¾ä½çš„æ‰€æœ‰æ£‹å­æœƒç¿»é¢è®Šæˆä½ çš„é¡è‰²
6. å¦‚æœæ²’æœ‰åˆæ³•ä½ç½®å¯ä¸‹ï¼Œå‰‡è‡ªå‹•è·³éè©²ç©å®¶
7. ç•¶é›™æ–¹éƒ½ç„¡æ³•ä¸‹æ£‹æ™‚éŠæˆ²çµæŸ
8. **æ£‹å­æ•¸å¤šçš„ä¸€æ–¹ç²å‹**

## éŠæˆ²ç•«é¢
### è¼ªåˆ°ä½ æ™‚

```
Ariel(you): X    Bob: O
X: 4    O: 1
now it's your turn.
8 * * * * * * * *
7 * * * * * * * *
6 * * * * + * * *
5 * * * X X + * *
4 * * * O X * * *
3 * * * + * * * *
2 * * * * * * * *
1 * * * * * * * *
  a b c d e f g h

Enter your step. (ex. a1): 
```

- ğŸ”´ ç´…è‰² Xï¼šä½ çš„é»‘æ£‹
- ğŸŸ¢ ç¶ è‰² Oï¼šå°æ‰‹çš„ç™½æ£‹
- ğŸŸ¡ é»ƒè‰² +ï¼šå¯ä»¥ä¸‹æ£‹çš„ä½ç½®

### å°æ‰‹å›åˆæ™‚

```
Ariel(you): X    Bob: O
X: 4    O: 1
The opponent is thinking.
8 * * * * * * * *
7 * * * * * * * *
6 * * * * X * * *
5 * * * X X * * *
4 * * * O X * * *
3 * * * * * * * *
2 * * * * * * * *
1 * * * * * * * *
  a b c d e f g h
```

### éŠæˆ²çµæŸ

```
===================
Game Over!
X wins!
Black (X): 35
White (O): 29
===================
```

## å¸¸è¦‹å•é¡Œ
### Q: éŠæˆ²ä¸­é€”æ–·ç·šæ€éº¼è¾¦ï¼Ÿ

**A:** 
- å°æ‰‹æœƒç«‹å³æ”¶åˆ°æ–·ç·šé€šçŸ¥
- Server æœƒè‡ªå‹•çµæŸéŠæˆ²
- é‡æ–°å•Ÿå‹• Server å’Œ Client å³å¯é–‹å§‹æ–°éŠæˆ²

## ç¯„ä¾‹éŠæˆ²æµç¨‹

```bash
# ===== Terminal 1: ä¼ºæœå™¨ =====
$ ./server 192.168.0.222 8888
Server started on 192.168.0.222:8888
Waiting for players...
Player 1 connected: Ariel
Player 2 connected: Bob
Ariel (X) goes first!
Ariel (X) played f5
Bob (O) played f6
Ariel (X) played e6
...
Game over: X wins!

# ===== Terminal 2: ç©å®¶ 1 =====
$ ./client 192.168.0.222 8888
Connected to server 192.168.0.222:8888
Enter your name: Ariel
Waiting for another player...
Game started!
You are playing as X
Opponent: Bob
Waiting for game to begin...

Ariel(you): X    Bob: O
X: 2    O: 2
now it's your turn.
[æ£‹ç›¤é¡¯ç¤ºï¼Œ+ æ¨™ç¤ºå¯ä¸‹ä½ç½®]

Enter your step. (ex. a1): f5

# ===== Terminal 3: ç©å®¶ 2 =====
$ ./client 192.168.0.222 8888
Connected to server 192.168.0.222:8888
Enter your name: Bob
Game started!
You are playing as O
Opponent: Ariel
Waiting for game to begin...

Bob(you): O    Ariel: X
X: 4    O: 1
The opponent is thinking.
[ç­‰å¾…å°æ‰‹ä¸‹æ£‹...]
```

## æŠ€è¡“ç´°ç¯€

### ä½¿ç”¨çš„æŠ€è¡“

- **Socket ç¨‹å¼è¨­è¨ˆ**: POSIX TCP Socket
- **éé˜»å¡ I/O**: ä½¿ç”¨ `select()` ç›£æ§é€£ç·šç‹€æ…‹
- **ANSI Escape Codes**: çµ‚ç«¯é¡è‰²å’Œæ¸…å±
- **C++11 æ¨™æº–**: STL å®¹å™¨å’Œå­—ä¸²è™•ç†

### æ¶æ§‹è¨­è¨ˆ

```
Server (å–®åŸ·è¡Œç·’ï¼Œé †åºè™•ç†)
  â”œâ”€â”€ ç›£è½é€£ç·š
  â”œâ”€â”€ ç­‰å¾…å…©å€‹ç©å®¶
  â”œâ”€â”€ éŠæˆ²ä¸»è¿´åœˆ
  â”‚   â”œâ”€â”€ æª¢æŸ¥é€£ç·šç‹€æ…‹
  â”‚   â”œâ”€â”€ é©—è­‰ç§»å‹•åˆæ³•æ€§
  â”‚   â”œâ”€â”€ åŒæ­¥æ£‹ç›¤ç‹€æ…‹
  â”‚   â””â”€â”€ åˆ‡æ›å›åˆ
  â””â”€â”€ çµæŸéŠæˆ²

Client (é˜»å¡å¼ï¼Œä¾åºè™•ç†è¨Šæ¯)
  â”œâ”€â”€ é€£ç·šåˆ°ä¼ºæœå™¨
  â”œâ”€â”€ è¨Šæ¯è™•ç†è¿´åœˆ
  â”‚   â”œâ”€â”€ æ¥æ”¶ä¼ºæœå™¨è¨Šæ¯
  â”‚   â”œâ”€â”€ æ›´æ–°æ£‹ç›¤é¡¯ç¤º
  â”‚   â”œâ”€â”€ ç­‰å¾…ç©å®¶è¼¸å…¥
  â”‚   â””â”€â”€ ç™¼é€ç§»å‹•çµ¦ä¼ºæœå™¨
  â””â”€â”€ æ–·ç·šè™•ç†

Game é¡åˆ¥ï¼ˆéŠæˆ²é‚è¼¯ï¼‰
  â”œâ”€â”€ æ£‹ç›¤ç®¡ç†
  â”œâ”€â”€ ç§»å‹•é©—è­‰
  â”œâ”€â”€ æ£‹å­ç¿»è½‰
  â””â”€â”€ éŠæˆ²ç‹€æ…‹æª¢æŸ¥
```

## å¿ƒå¾—
æˆ‘ç¬¬ä¸€æ¬¡ç”¨ C++ å¯«å°ˆæ¡ˆï¼Œå­¸åˆ°äº†äº›æ–°æ±è¥¿  
#### Makefile  
æ–¹ä¾¿çš„ç·¨è­¯å·¥å…·

#### argc argv
ä½¿ç”¨ main å‡½æ•¸çš„ `argc` èˆ‡ `argv` å…©å€‹åƒæ•¸ï¼Œä¾†å–å¾—åŸ·è¡Œç¨‹å¼æ™‚æ‰€è¼¸å…¥çš„æŒ‡ä»¤åƒæ•¸ã€‚

#### C++ çš„ socket å¯¦ä½œ
C++ çš„ socket å¯¦ä½œæ¯”èµ· Python æ›´è¤‡é›œï¼Œä¾‹å¦‚è¦è‡ªå·±è¨­å®š `socket FD`ï¼Œæˆ‘é‚„å› æ­¤å»äº†è§£äº† File descriptorã€‚
ç¶²è·¯ç”¨çš„ä½å…ƒçµ„é †åºæ˜¯ Big-Endian è€Œé›»è…¦ä¸»æ©Ÿç”¨çš„æ˜¯ Little-Endianï¼Œæ‰€ä»¥éœ€è¦ htons() ä¾†è½‰æ›ã€‚

#### .hpp
`.hpp` æ˜¯æ¨™é ­æª”(header files)ï¼Œç”¨ä¾†å­˜æ”¾ç¨‹å¼ç¢¼çš„å®£å‘Šï¼Œæœ‰äº†é€™å€‹å¯«éŠæˆ²ç°¡å–®å¤šäº†

#### ä½¿ç”¨ claude AI
é€™æ¬¡æˆ‘ä½¿ç”¨ claude å”åŠ©æˆ‘é–‹ç™¼å°ˆæ¡ˆã€‚ç›®å‰è¦ºå¾— claude ç¨‹å¼å¯«åˆå¥½åˆå®Œæ•´ï¼Œé‚„èƒ½ç®¡ç†ç‰ˆæœ¬ï¼Œé›–ç„¶å¶çˆ¾æœƒå›  token é™åˆ¶è¢«è¿«æš«åœé–‹ç™¼ï¼Œä½†é€™ä»ç„¶ç‘•ä¸æ©ç‘œï¼Œç¸½é«”ä¾†èªªéå¸¸å¥½ç”¨ã€‚